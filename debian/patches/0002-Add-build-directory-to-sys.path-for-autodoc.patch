From 3b8aee49df1c6d64ed95e45b20fc463cc2af8be2 Mon Sep 17 00:00:00 2001
From: Tristan Seligmann <mithrandi@mithrandi.net>
Date: Mon, 10 Oct 2016 04:42:22 +0200
Subject: Add build directory to sys.path for autodoc.

---
 docs/conf.py | 7 +++++++
 1 file changed, 7 insertions(+)

diff --git a/docs/conf.py b/docs/conf.py
index 52a04e7..e08b9ed 100644
--- a/docs/conf.py
+++ b/docs/conf.py
@@ -27,6 +27,13 @@ def find_version(*file_paths):
         return version_match.group(1)
     raise RuntimeError("Unable to find version string.")
 
+# If extensions (or modules to document with autodoc) are in another directory,
+# add these directories to sys.path here. If the directory is relative to the
+# documentation root, use os.path.abspath to make it absolute, like shown here.
+import sys
+ver = sys.version_info[0:2]
+sys.path.insert(
+    0, os.path.abspath('../.pybuild/pythonX.Y_{0}.{1}/build'.format(*ver)))
 
 # -- General configuration ------------------------------------------------
 
